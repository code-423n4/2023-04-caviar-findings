The second for loop in EthRouter buy() function (https://github.com/code-423n4/2023-04-caviar/blob/cd8a92667bcb6657f70657183769c244d04c015c/src/PrivatePool.sol#L272-L284), responsible for paying royalties, is not necessary and can be integrated in the first for loop in which royalty fees are being computed (https://github.com/code-423n4/2023-04-caviar/blob/cd8a92667bcb6657f70657183769c244d04c015c/src/PrivatePool.sol#L238-L249).